\documentclass[11pt, oneside]{article}   	% use "amsart" instead of "article" for AMSLaTeX format
\usepackage{geometry}                		% See geometry.pdf to learn the layout options. There are lots.
\geometry{letterpaper}                   		% ... or a4paper or a5paper or ... 
%\geometry{landscape}                		% Activate for rotated page geometry
%\usepackage[parfill]{parskip}    		% Activate to begin paragraphs with an empty line rather than an indent
\usepackage{graphicx}				% Use pdf, png, jpg, or epsÂ§ with pdflatex; use eps in DVI mode
								% TeX will automatically convert eps --> pdf in pdflatex		
\usepackage{amssymb}

%SetFonts

%SetFonts


\title{FUNWAVE-TVD Code Analysis\\Using SciTools \emph{Understand}}
\author{Daniel Topa\\HPCMP PETTT On Site}
%\date{}							% Activate to display a given date or no date

\begin{document}
\maketitle
\abstract{How can a static analysis tool enhance development of the open source code FUNWAVE? Here we select the tool \emph{Understand} and display different aspects of the code analysis; the results are invaluable. Should more time be devoted to a closer examination with this tool?}

\section{Conclusions}  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %
The reports from \emph{Understand} paint a picture of a healthy, disciplined development project and suggest guidelines to keep the project healthy moving forward.

The information generated by the static analysis can greatly streamline debugging and accelerate development, and is an essential set of tools. Certainly this substantially aids development. The question is whether to select \emph{Understand} or a comparable package to provide the toolkit.

\section{Summary Report}  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %
The application generates a summary report as shown in figure \ref{fig:summary}. Below we pictorially survey the html form; a text file version is included in the zip file.

The subreports linked in the summary report provide a host of insights. In particular, it presents a set of maps and inverse maps. For example, if we encounter a variable and wish to check it's definition, we would consult the data dictionary. If we want to jump to a subroutine, we find a hyperlink in the data dictionary. If we encounter an object and wish to check it's where it is defined, set, and used, consult the object cross reference.

The following pages survey some of the 777 diagrams generated in the analysis of the code.

\begin{figure}[htbp] %  figure placement: here, top, bottom, or page
   \centering
   \includegraphics[ width = 5.5in ]{graphics/"summary report"} 
   \caption{The splash page of the summary report. }
   \label{fig:summary}
\end{figure}

\begin{figure}[htbp] %  figure placement: here, top, bottom, or page
   \centering
   \includegraphics[ width = 5.5in ]{graphics/"data dictionary"} 
   \caption{The data dictionary characterizes the variables by showing the type and pointing to the declaration.}
   \label{fig:data dictionary}
\end{figure}

\begin{figure}[htbp] %  figure placement: here, top, bottom, or page
   \centering
   \includegraphics[ width = 5.5in ]{graphics/"declaration tree"} 
   \caption{The declaration tree sweeps through each file and lists its methods: subroutines and functions.}
   \label{fig:declaration tree}
\end{figure}

\begin{figure}[htbp] %  figure placement: here, top, bottom, or page
   \centering
   \includegraphics[ width = 5.5in ]{graphics/"file contents"} 
   \caption{The file contents page allows the user to access each file and view the program units contained within.}
   \label{fig:file contents}
\end{figure}

\begin{figure}[htbp] %  figure placement: here, top, bottom, or page
   \centering
   \includegraphics[ width = 5.5in ]{graphics/"program unit metrics"} 
   \caption{The program unit metrics provides line counts for code and comments for each routine.}
   \label{fig:program unit metrics}
\end{figure}

\begin{figure}[htbp] %  figure placement: here, top, bottom, or page
   \centering
   \includegraphics[ width = 5.5in ]{graphics/"object cross reference"} 
   \caption{The object cross reference page displays where variables are declared, defined and used.}
   \label{fig:object cross reference}
\end{figure}

\begin{figure}[htbp] %  figure placement: here, top, bottom, or page
   \centering
   \includegraphics[ width = 5.5in ]{graphics/"program unit cross reference"} 
   \caption{The program unit cross reference sweeps through all function and subroutine calls, listing the line number and the call arguments.}
   \label{fig:program unit cross reference}
\end{figure}

\begin{figure}[htbp] %  figure placement: here, top, bottom, or page
   \centering
   \includegraphics[ width = 5.5in ]{graphics/"file metrics"} 
   \caption{The file metrics page summarizes the lines count in terms of code and comments.}
   \label{fig:file metrics}
\end{figure}

\begin{figure}[htbp] %  figure placement: here, top, bottom, or page
   \centering
   \includegraphics[ width = 5.5in ]{graphics/"unused program units"} 
   \caption{The unused program units page display code units which are not called.}
   \label{fig:unused program units}
\end{figure}

\break
\section{Diagrams}  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %  %
Analysis of the FUNWAVE code produced over 770 diagrams. A brief survey follows.

The primary chart, figure \ref{fig:ArchInternalDependencies-DirectoryStructure}, displays the main dependencies showing the plumbing connecting the files.

\begin{enumerate}
\item Butterfly plot: traces call chain to a function \ref{fig:Butterfly-real}
\item Called by plot: shows immediate call to a function \ref{fig:CalledBy-real}
\item Calls by plot: shows immediate calls by a routine \ref{fig:Calls-FLUXES}
\item Cluster calls by plot: shows where a program unit is defined and which routines have access \ref{fig:ClusterCallby-real}
%\item Cluster control flow by plot: enhanced flow chart \ref{fig:ClusterControlFlow-FUNWAVE_TVD}
\item Cluster control flow by plot: enhanced flow chart \ref{fig:ClusterControlFlow-FLUXES}
\item Control flow by plot: classic flow chart \ref{fig:ControlFlow-FLUXES}
\item Declaration plot: upstream and downstream dependencies \ref{fig:Declaration-FLUXES}
\item Declaration file plot: dependent sub units \ref{fig:DeclarationFile-FLUXES}
%\item Cluster control flow by plot: classic flow chart \ref{fig:ClusterControlFlow-FUNWAVE_TVD}
\end{enumerate}

\begin{figure}[htbp] %  figure placement: here, top, bottom, or page
   \centering
   \includegraphics[ width = 6.0in ]{graphics/diagrams/"ArchInternalDependencies-DirectoryStructure"} 
   \caption{Internal dependencies between the files.}
   \label{fig:ArchInternalDependencies-DirectoryStructure}
\end{figure}

\begin{figure}[htbp] %  figure placement: here, top, bottom, or page
   \centering
   \includegraphics[ width = 5.5in ]{graphics/diagrams/"Butterfly-real"} 
   \caption{The butterfly plot traces call chain to a function, here the function REAL.}
   \label{fig:Butterfly-real}
\end{figure}

\begin{figure}[htbp] %  figure placement: here, top, bottom, or page
   \centering
   \includegraphics[ width = 2.5in ]{graphics/diagrams/"CalledBy-real"} 
   \caption{The called by plot shows the immediate routines to call a function, here the function REAL.}
   \label{fig:CalledBy-real}
\end{figure}

\begin{figure}[htbp] %  figure placement: here, top, bottom, or page
   \centering
   \includegraphics[ width = 2.5in ]{graphics/diagrams/"Calls-FLUXES"} 
   \caption{The calls by plot shows functions and subroutines called by a program unit, here the function FLUXES.}
   \label{fig:Calls-FLUXES}
\end{figure}

\begin{figure}[htbp] %  figure placement: here, top, bottom, or page
   \centering
   \includegraphics[ width = 2.0in ]{graphics/diagrams/"ClusterCallby-real"} 
   \caption{The cluster calls by plot shows where a program unit is defined and which routines have access, here the function REAL.}
   \label{fig:ClusterCallby-real}
\end{figure}

%\begin{figure}[htbp] %  figure placement: here, top, bottom, or page
%   \centering
%   \includegraphics[ width = 5.5in ]{graphics/diagrams/"ClusterControlFlow-FUNWAVE_TVD"} 
%   \caption{The cluster control flow plot presents a flow chart for each program unit, here FUNWAVE-TVD.}
%   \label{fig:ClusterControlFlow-FUNWAVE_TVD}
%\end{figure}

\begin{figure}[htbp] %  figure placement: here, top, bottom, or page
   \centering
   \includegraphics[ width = 5.5in ]{graphics/diagrams/"ClusterControlFlow-FLUXES"} 
   \caption{The cluster control flow plot presents an enhanced flow chart for each program unit, here FLUXES.}
   \label{fig:ClusterControlFlow-FLUXES}
\end{figure}

\begin{figure}[htbp] %  figure placement: here, top, bottom, or page
   \centering
   \includegraphics[ width = 5.5in ]{graphics/diagrams/"ControlFlow-FLUXES"} 
   \caption{The control flow plot presents an enhanced flow chart for each program unit, here FLUXES.}
   \label{fig:ControlFlow-FLUXES}
\end{figure}

\begin{figure}[htbp] %  figure placement: here, top, bottom, or page
   \centering
   \includegraphics[ width = 3.5in ]{graphics/diagrams/"Declaration-FLUXES"} 
   \caption{The declaration plot shows the upstream and downstream calls, here for FLUXES.}
   \label{fig:Declaration-FLUXES}
\end{figure}

\begin{figure}[htbp] %  figure placement: here, top, bottom, or page
   \centering
   \includegraphics[ width = 1.5in ]{graphics/diagrams/"DeclarationFile-FLUXES"} 
   \caption{The declaration file plot shows the dependent program units, here for FLUXES.}
   \label{fig:DeclarationFile-FLUXES}
\end{figure}

\end{document}  